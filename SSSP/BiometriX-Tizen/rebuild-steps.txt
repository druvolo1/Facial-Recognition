Step 1: Add credentials storage - TESTED WORKING
Step 2: Add /local/register endpoint - TESTED WORKING
Step 3: Add /local/config endpoint - TESTED WORKING
Step 4: Add makeAuthenticatedRequest helper - TESTED WORKING
Step 5: Add /local/test-heartbeat endpoint - TESTED WORKING
Step 6: Add device config storage - TESTED WORKING
Step 7: Add heartbeat worker - TESTED WORKING
Step 8: Add /local/device-config endpoint - TESTED WORKING

Now test minimal WebSocket change:
Step 9: Just log request.url in handleWebSocketUpgrade - TEST THIS
