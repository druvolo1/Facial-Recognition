<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSSP App Installation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #333;
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 18px;
        }

        .download-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 40px;
        }

        .download-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .download-btn {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .url-box {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            word-break: break-all;
        }

        .qr-section {
            text-align: center;
            margin-bottom: 40px;
        }

        .qr-section h3 {
            color: #333;
            margin-bottom: 15px;
        }

        #qrcode {
            display: inline-block;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .instructions {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .instructions h3 {
            color: #333;
            font-size: 22px;
            margin-bottom: 20px;
        }

        .instructions ol {
            margin-left: 20px;
        }

        .instructions li {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .instructions strong {
            color: #333;
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .note strong {
            color: #856404;
        }

        .note p {
            color: #856404;
            margin-top: 5px;
        }

        .back-link {
            display: inline-block;
            color: #667eea;
            text-decoration: none;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .info-card h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .info-card p {
            color: #666;
            font-size: 14px;
        }

        .version-badge {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back-link">‚Üê Back to Home</a>

        <div class="header">
            <h1>SSSP App Installation <span class="version-badge">v1.0.0</span></h1>
            <p>Face Recognition Monitor for Samsung Displays</p>
        </div>

        <div class="download-section">
            <h2>üì¶ Download SSSP App</h2>
            <a href="/sssp/download" class="download-btn">Download FaceRecMonitor.wgt</a>
            <div class="url-box">
                <strong>Direct URL:</strong> <span id="downloadUrl"></span>
            </div>
        </div>

        <div class="qr-section">
            <h3>üì± Scan to Download</h3>
            <div id="qrcode"></div>
            <p style="color: #666; margin-top: 10px;">Scan this QR code from your Samsung display browser</p>
        </div>

        <div class="instructions">
            <h3>üìã Installation Instructions</h3>
            <ol>
                <li>
                    <strong>Download the App:</strong><br>
                    Click the download button above or scan the QR code from your Samsung display's browser
                </li>
                <li>
                    <strong>Install via USB (Option 1):</strong><br>
                    ‚Ä¢ Save the .wgt file to a USB drive<br>
                    ‚Ä¢ Insert USB into Samsung display<br>
                    ‚Ä¢ Navigate to Settings ‚Üí Support ‚Üí Device Manager ‚Üí USB<br>
                    ‚Ä¢ Select the .wgt file to install
                </li>
                <li>
                    <strong>Install via MagicInfo (Option 2):</strong><br>
                    ‚Ä¢ Upload the .wgt file to your MagicInfo Server<br>
                    ‚Ä¢ Deploy to target display(s)<br>
                    ‚Ä¢ App will install automatically
                </li>
                <li>
                    <strong>Install via Browser (Option 3):</strong><br>
                    ‚Ä¢ Open display's web browser<br>
                    ‚Ä¢ Navigate to this page<br>
                    ‚Ä¢ Click download button<br>
                    ‚Ä¢ Display should prompt to install the app
                </li>
                <li>
                    <strong>Grant Permissions:</strong><br>
                    After installation, go to Settings ‚Üí Security ‚Üí App Permissions<br>
                    Enable <strong>Camera</strong> permission for Face Recognition Monitor
                </li>
                <li>
                    <strong>Launch the App:</strong><br>
                    Find "Face Recognition Monitor" in your display's app menu and launch it
                </li>
            </ol>

            <div class="note">
                <strong>‚ö†Ô∏è Important:</strong>
                <p>Make sure your Samsung display has the WebRTC plugin installed. Check Settings ‚Üí Support ‚Üí About This TV for installed plugins. If WebRTC plugin is missing, update your display firmware or contact Samsung support.</p>
            </div>
        </div>

        <div class="info-grid">
            <div class="info-card">
                <h4>üìä App Features</h4>
                <p>Real-time face recognition, automatic greeting, display monitoring, and server integration</p>
            </div>
            <div class="info-card">
                <h4>üîß Requirements</h4>
                <p>Tizen 3.0+, WebRTC plugin, USB camera or built-in camera, network connectivity</p>
            </div>
            <div class="info-card">
                <h4>üì± Compatible Models</h4>
                <p>Samsung QM/QH/QBR series, HBU8000, Q60B, and other Tizen-based displays</p>
            </div>
        </div>

        <div class="instructions">
            <h3>üîç Troubleshooting</h3>
            <ul style="margin-left: 20px;">
                <li><strong>Camera not working?</strong> Check permissions and WebRTC plugin installation</li>
                <li><strong>App won't install?</strong> Ensure display firmware is up to date (Tizen 3.0+)</li>
                <li><strong>Can't connect to server?</strong> Verify display can reach: <span id="serverUrl" style="font-family: monospace;"></span></li>
                <li><strong>Need help?</strong> Check the documentation in the sssp_app folder</li>
            </ul>
        </div>
    </div>

    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

    <script>
        // Get current URL and construct download URL
        const currentUrl = window.location.origin;
        const downloadUrl = currentUrl + '/sssp/download';
        const installUrl = currentUrl + '/sssp/install';

        // Display URLs
        document.getElementById('downloadUrl').textContent = downloadUrl;
        document.getElementById('serverUrl').textContent = currentUrl;

        // Generate QR code for download URL
        new QRCode(document.getElementById('qrcode'), {
            text: downloadUrl,
            width: 200,
            height: 200,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });

        console.log('[SSSP] Installation page loaded');
        console.log('[SSSP] Download URL:', downloadUrl);
        console.log('[SSSP] Install URL:', installUrl);
    </script>
</body>
</html>
